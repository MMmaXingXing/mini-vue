# 分节思路分析

## 22-实现初始化 Element 主流程

通过 createApp 进入,定义的 APP 配置项中的 render 函数 h，在初始化 Element 中可以被实现出来。

patch 中可以对渲染的元素的类型来进行区分，分为 Element 和 Component, 其中 Component 是由 Element 来进行组成的。我们可以对其进行拆箱，分别实现两个方法 processComponent 和 processElement。

二者主要的区别以 happypath 来定义，其 Component 一定为对象，Element 一定是 string 类型。

由此我们可知，所有的 Component 可以被继续拆分入 patch 进行细分。

processElement 中，会进行如下的推导。

processElement --> mountElementElement。

mountElement 中，我们会根据 h 方法的第一个入参 string 来创建 Dom 元素，创建完成后分别取 props 和 children 来对其进行处理。

props 进行遍历 setAttrbuate。

children 通过类型来拆分，对象则递归进行拆箱处理，如果是字符串则创建对应元素且 append 到之前创建的元素中。

其中 children 的遍历处理部分可以重构抽离为 mountChildren 来进行深层次结构处理。
